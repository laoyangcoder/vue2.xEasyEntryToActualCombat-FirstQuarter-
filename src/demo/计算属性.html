<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>计算属性</title>
		<script src="../assets/vue.js" type="text/javascript" charset="utf-8"></script>
	</head>
	<body>
		<div id="app">
			<table border="" cellspacing="" cellpadding="">
				<tr>
					<th>编号</th>
					<th>名称</th>
					<th>单价</th>
					<th>数量</th>
				</tr>
				<tr v-for="s in shoppingCarts">
					<td>{{s.id}}</td>
					<td>{{s.name}}</td>
					<td>💴 {{s.price}}</td>
					<td>{{s.count}}</td>
				</tr>
				<tr>
					<td colspan="2">合计：</td>
					<td>{{sumPrice}}</td>
					<td>{{sumCount}}</td>
				</tr>
			</table>
			{{sumCount}}
		</div>
		<script type="text/javascript">
			var app = new Vue({
				el: '#app',
				data: {
					shoppingCarts: [{
							id: 1,
							name: '畅享9 幻夜黑全网通 4G+64G',
							price: 889,
							count: 1
						},
						{
							id: 2,
							name: '得力笔记本b5记事本',
							price: 12.5,
							count: 5
						},
						{
							id: 3,
							name: '飞科剃须刀',
							price: 44.9,
							count: 10
						}
					]
				},
				computed:{
					sumCount:function(){
						let sum=0;
						this.shoppingCarts.forEach((item)=>{
							sum+=item.count;
						})
						console.log(sum);
						return sum;
					},
					sumPrice:function(){
						let sum=0;
						this.shoppingCarts.forEach((item)=>{
							sum+=item.price*item.count;
						})
						return sum;
					}
				}
			})
		</script>
	</body>
</html>
